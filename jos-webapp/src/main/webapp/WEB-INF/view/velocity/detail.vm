#set($springXhtmlCompliant = true)
<fieldset>
#springBind("userSession.user")
<legend>#springMessageText("user.message.usingYourOwnOpenIDURL" "Using Your Own OpenID URL")</legend>
<p>
	#springMessage("message.yourOpenid")
</p>
<pre>
<a href="$!{status.value.identifier}">$!{status.value.identifier}</a>
</pre>

#if(!$request.getParameter("advanced"))
	<div style="text-align: right;">
		<a href="#josUrl("/home?advanced=true")">#springMessage("button.advanced")</a>
	</div>
#else
<p>
#josMessageEscaped("message.yourOpenid.1" false)
<pre>
&lt;link rel="openid2.provider openid.server" href="${userSession.user.domain.runtime.openidServerUrl}" /&gt;
&lt;link rel="openid2.local_id openid.delegate" href="$!{userSession.user.identifier}" /&gt;
</pre>
#josMessageEscaped("message.yourOpenid.2" false)
</p>
#end
</fieldset>

<fieldset>
	<legend>#springMessageText("title.topSites" "Top Sites You Visited")</legend>
	<ul>
		#foreach($site in $topSites)
		<li><a href="$site.realm.url">$site.realm.url</a></li>
		#end
	</ul>
</fieldset>

<fieldset>
	<legend>#springMessageText("title.recentRealms" "Recent Sites They Visited")</legend>
	<ul>
		#foreach($realm in $recentRealms)
		<li><a href="$realm.url">$realm.url</a></li>
		#end
	</ul>
</fieldset>